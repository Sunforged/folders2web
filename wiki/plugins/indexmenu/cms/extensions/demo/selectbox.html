<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Selectbox demo</title>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
  <link rel="stylesheet" type="text/css" href="selectbox.css" media="all" />
 </head>
 <body>
  <div>
   <h5><a href="http://debugger.ru/projects/browserextensions/dom/selectbox">BrowserExtensions/DOM/Selectbox demo</a></h5>
   <form>
    <table colspan="0" rowspan="0" border="0">
     <tr>
      <td class="leftcol">
       <select id="left" multiple="multiple" >
        <option value="1" selected="selected">St Petersburg</option>
        <option value="2">Moscow</option>
        <option value="142">Arkhangelsk</option>
        <option value="143">Astrakhan</option>
        <option value="144">Belgorod</option>
        <option value="145">Blagoveschensk</option>
        <option value="146">Bratsk</option>
        <option value="147">Bryansk</option>
    
        <option value="148">Cheboksary</option>
        <option value="149">Chelyabinsk</option>
        <option value="150">Chita</option>
        <option value="151">Ekaterinburg</option>
        <option value="152">Elista</option>
        <option value="153">Gelendzhik</option>
    
        <option value="154">Irkutsk</option>
        <option value="155">Izhevsk</option>
        <option value="156">Kaliningrad</option>
        <option value="157">Kaluga</option>
        <option value="158">Kazan</option>
        <option value="159">Khabarovsk</option>
    
        <option value="160">Kirov</option>
        <option value="161">Kislovodsk</option>
        <option value="162">Kostroma</option>
        <option value="163">Krasnodar</option>
        <option value="164">Krasnoyarsk</option>
        <option value="165">Kursk</option>
    
        <option value="166">Magadan</option>
        <option value="167">Magnitogorsk</option>
        <option value="168">Murmansk</option>
        <option value="169">Naberezhnye chelny</option>
        <option value="170">Nakhodka</option>
        <option value="171">Nalchik</option>
    
        <option value="172">Nizhny novgorod</option>
        <option value="173">Novosibirsk</option>
        <option value="174">Omsk</option>
        <option value="175">Orel</option>
        <option value="176">Orenburg</option>
        <option value="177">Penza</option>
    
       </select>
      </td>
      <td class="movers">
       <input id="rtla"  type="button" class="mover" value=">>"  />
       <input id="rtl"  type="button" class="mover" value=">"  />
       <input id="ltr"  type="button" class="mover" value="<"  />
       <input id="ltra"  type="button" class="mover" value="<<"  />
       <label for="autosoft">Sort:<input id="autosort" type="checkbox" /></label>
      </td>
      <td class="rightcol">
       <select id="right" multiple="multiple" >
        <option value="178">Perm</option>
        <option value="179">Petropavlovsk-kamchatsky</option>
        <option value="180">Petrozavodsk</option>
        <option value="181">Pskov</option>
        <option value="182">Pyatigorsk</option>
        <option value="183">Rostov-on-don</option>
    
        <option value="184">Ryazan</option>
        <option value="185">Samara</option>
        <option value="186">Saratov</option>
        <option value="187">Smolensk</option>
        <option value="188">Sochi</option>
        <option value="189">Stavropol</option>
    
        <option value="190">Suzdal</option>
        <option value="191">Tobolsk</option>
        <option value="192">Togliatti</option>
        <option value="193">Tuapse</option>
        <option value="194">Tula</option>
        <option value="195">Tver</option>
    
        <option value="196">Tyumen</option>
        <option value="197">Ufa</option>
        <option value="198">Ulan-ude</option>
        <option value="199">Ulyanovsk</option>
        <option value="200">Veliky novgorod</option>
        <option value="201">Vladimir</option>
    
        <option value="202">Vladivostok</option>
        <option value="203">Volgograd</option>
        <option value="204">Vologda</option>
        <option value="205">Voronezh</option>
        <option value="206">Vyborg</option>
        <option value="207">Yakutsk</option>
    
        <option value="208">Yaroslavl</option>
        <option value="209">Yoshkar-ola</option>
        <option value="210">Yuzhno-sakhalinsk</option>
        <option value="447">Salekhard</option>
        <option value="12384">Tomsk</option>
        <option value="12385">Tambov</option>
       </select>
      </td>
     </tr>
     <tr>
      <td class="leftcol">
       <input name="left_hide" id="left_hide" type="text" />
       <input id="bleft_hide" type="button" class="button" value="Hide matching options"  />
       <input name="left_hideOnly" id="left_hideOnly" type="text"  />
       <input id="bleft_hideOnly" type="button" class="button" value="Hide only matching options"  />
       <input name="left_select" id="left_select" type="text" />
       <input id="bleft_select" type="button" class="button" value="Select matching options" />
       <input name="left_selectOnly" id="left_selectOnly" type="text" />
       <input id="bleft_selectOnly" type="button" class="button" value="Select only matching options"  />
      </td>
      <td></td>
      <td class="rightcol">
       <input name="right_hide" id="right_hide" type="text" />
       <input id="bright_hide" type="button" class="button" value="Hide matching options"  />
       <input name="right_hideOnly" id="right_hideOnly" type="text" />
       <input id="bright_hideOnly" type="button" class="button" value="Hide only matching options"  />
       <input name="right_select" id="right_select" type="text" />
       <input id="bright_select" type="button" class="button" value="Select matching options"  />
       <input name="right_selectOnly" id="right_selectOnly" type="text" />
       <input id="bright_selectOnly" type="button" class="button" value="Select only matching options"  />
      </td>
     </tr>
     <tr>
      <td align="center" colspan="3">
      Left-to-Right move:
      <textarea id="move_ltr" ></textarea>
      Right-to-Left move:
      <textarea id="move_rtl" ></textarea>
      </td>
     </tr>
    </table>
   </form>
   <script src="../helpers.js" type="text/javascript"></script>
   <script src="../objectextensions.js" type="text/javascript"></script>
   <script src="../arrayextensions.js" type="text/javascript"></script>
   <script src="../regexpextensions.js" type="text/javascript"></script>
   <script src="../dom/selectbox.js" type="text/javascript"></script>
   <script type="text/javascript">
    var s_left = new Selectbox('left');
    var s_right = new Selectbox('right');
  
    document.getElementById('rtla').onclick = function () {s_left.moveAllOptions(s_right, null, this.form.autosort.checked);
                                                           this.form.move_ltr.value = s_left.getOptionsTrack('deleted','text',', ');
                                                          }
    document.getElementById('rtl').onclick = function () {s_left.moveSelectedOptions(s_right, null, this.form.autosort.checked);
                                                          this.form.move_ltr.value = s_left.getOptionsTrack('deleted','text',', ')
                                                         }
    document.getElementById('ltr').onclick = function () {s_right.moveSelectedOptions(s_left, null, this.form.autosort.checked);
                                                          this.form.move_rtl.value = s_right.getOptionsTrack('deleted','text',', ')
                                                         }
    document.getElementById('ltra').onclick = function () {s_right.moveAllOptions(s_left, null, this.form.autosort.checked);
                                                           this.form.move_rtl.value = s_right.getOptionsTrack('deleted','text',', ');
                                                          }
  
    /*
    *  add some filters for left side
    */
    document.getElementById('bleft_hide').onclick = 
    document.getElementById('bleft_hideOnly').onclick = function () {
      var show = this.value.indexOf("Show")===0;
      var fn = (show?"show":"hide")+this.id.replace(/.+?(only)?$/i, "$1")+'MatchingOptions';
      var inp = this.id.replace(/^\w/, "");
      s_left[fn](this.form[inp].value);
  
      this.value = show?this.value.replace("Show","Hide"):this.value.replace("Hide","Show");
    }
    document.getElementById('bleft_select').onclick = 
    document.getElementById('bleft_selectOnly').onclick = function () {
      var select = this.value.indexOf("Select")===0;
      var fn = (select?"":"un")+this.id.replace(/[^_]+_/, "")+'MatchingOptions';
      var inp = this.id.replace(/^\w/, "");
      s_left[fn](this.form[inp].value);
  
      this.value = select?this.value.replace("Select","Deselect"):this.value.replace("Deselect","Select");
    }
    /*
    *  add some filters for right side
    */
    document.getElementById('bright_hide').onclick = 
    document.getElementById('bright_hideOnly').onclick = function () {
      var show = this.value.indexOf("Show")===0;
      var fn = (show?"show":"hide")+this.id.replace(/.+?(only)?$/i, "$1")+'MatchingOptions';
      var inp = this.id.replace(/^\w/, "");
      s_right[fn](this.form[inp].value);
  
      this.value = show?this.value.replace("Show","Hide"):this.value.replace("Hide","Show");
    }
    document.getElementById('bright_select').onclick = 
    document.getElementById('bright_selectOnly').onclick = function () {
      var select = this.value.indexOf("Select")===0;
      var fn = (select?"":"un")+this.id.replace(/[^_]+_/, "")+'MatchingOptions';
      var inp = this.id.replace(/^\w/, "");
      s_right[fn](this.form[inp].value);
  
      this.value = select?this.value.replace("Select","Deselect"):this.value.replace("Deselect","Select");
    }
   </script>
  </div>
 </body>
</html> 